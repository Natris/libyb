[[crate]]
name = "libyb"
type = "cpp-lib"
sources = [
    "libyb/async/channel.cpp",
    "libyb/async/descriptor_reader.cpp",
    "libyb/async/detail/console_stream.cpp",
    "libyb/async/detail/exit_guard_task.cpp",
    "libyb/async/detail/notification_event.cpp",
    "libyb/async/detail/parallel_composition_task.cpp",
    "libyb/async/detail/parallel_compositor.cpp",
    "libyb/async/detail/runner.cpp",
    "libyb/async/detail/semaphore.cpp",
    "libyb/async/detail/task_impl.cpp",
    "libyb/async/device.cpp",
    "libyb/async/null_stream.cpp",
    "libyb/async/stream.cpp",
    "libyb/async/stream_device.cpp",
    "libyb/async/timer.cpp",
    "libyb/buffer.cpp",
    "libyb/descriptor.cpp",
    "libyb/net/detail/http_request_parser.cpp",
    "libyb/net/http.cpp",
    "libyb/net/http_server.cpp",
#    "libyb/shupito/escape_sequence.cpp",
    "libyb/shupito/flip2.cpp",
    "libyb/stream_parser.cpp",
    "libyb/tunnel.cpp",
    "libyb/usb/bulk_stream.cpp",
    "libyb/usb/detail/usb_request_context.cpp",
    "libyb/usb/interface_guard.cpp",
    "libyb/usb/usb_descriptors.cpp",
    "libyb/usb/usb_device.cpp",
    "libyb/utils/detail/refcount.cpp",
    "libyb/utils/ihex_file.cpp",
    "libyb/utils/sparse_buffer.cpp",
    "libyb/utils/svf_file.cpp",
    "libyb/utils/utf.cpp",
    ]
includes = [
    "libyb/async/async_runner.hpp",
    "libyb/async/await.hpp",
    "libyb/async/cancel_exception.hpp",
    "libyb/async/cancel_level.hpp",
    "libyb/async/channel.hpp",
    "libyb/async/console_stream.hpp",
    "libyb/async/descriptor_reader.hpp",
    "libyb/async/detail/cancel_level_upgrade_task.hpp",
    "libyb/async/detail/canceller_task.hpp",
    "libyb/async/detail/channel_detail.hpp",
    "libyb/async/detail/circular_buffer.hpp",
    "libyb/async/detail/double_buffer_task.hpp",
    "libyb/async/detail/exit_guard_task.hpp",
    "libyb/async/detail/loop_task.hpp",
    "libyb/async/detail/notification_event.hpp",
    "libyb/async/detail/parallel_composition_task.hpp",
    "libyb/async/detail/parallel_compositor.hpp",
    "libyb/async/detail/parallel_compositor_impl.hpp",
    "libyb/async/detail/prepared_task.hpp",
    "libyb/async/detail/prepared_task_impl.hpp",
    "libyb/async/detail/runner_impl.hpp",
    "libyb/async/detail/semaphore.hpp",
    "libyb/async/detail/sequential_composition_task.hpp",
    "libyb/async/detail/task_fwd.hpp",
    "libyb/async/detail/task_impl.hpp",
    "libyb/async/detail/task_result.hpp",
    "libyb/async/detail/wait_context.hpp",
    "libyb/async/device.hpp",
    "libyb/async/double_buffer.hpp",
    "libyb/async/file.hpp",
    "libyb/async/group.hpp",
    "libyb/async/null_stream.hpp",
    "libyb/async/resumable.hpp",
    "libyb/async/runner.hpp",
    "libyb/async/serial_port.hpp",
    "libyb/async/stream.hpp",
    "libyb/async/stream_device.hpp",
    "libyb/async/sync_runner.hpp",
    "libyb/async/task.hpp",
    "libyb/async/task_base.hpp",
    "libyb/async/timer.hpp",
    "libyb/buffer.hpp",
    "libyb/descriptor.hpp",
    "libyb/net/detail/http_request_parser.hpp",
    "libyb/net/http.hpp",
    "libyb/net/http_server.hpp",
    "libyb/net/net.hpp",
    "libyb/packet.hpp",
    "libyb/packet_handler.hpp",
    "libyb/shupito/escape_sequence.hpp",
    "libyb/shupito/flip2.hpp",
    "libyb/stream_parser.hpp",
    "libyb/tunnel.hpp",
    "libyb/usb/bulk_stream.hpp",
    "libyb/usb/detail/usb_device_core_fwd.hpp",
    "libyb/usb/detail/usb_request_context.hpp",
    "libyb/usb/interface_guard.hpp",
    "libyb/usb/usb_context.hpp",
    "libyb/usb/usb_descriptors.hpp",
    "libyb/usb/usb_device.hpp",
    "libyb/utils/atomic.hpp",
    "libyb/utils/detail/lexcast_impl.hpp",
    "libyb/utils/detail/range.hpp",
    "libyb/utils/except.hpp",
    "libyb/utils/ihex_file.hpp",
    "libyb/utils/lexcast.hpp",
    "libyb/utils/noncopyable.hpp",
    "libyb/utils/range.hpp",
    "libyb/utils/refcount.hpp",
    "libyb/utils/signal.hpp",
    "libyb/utils/singleton.hpp",
    "libyb/utils/sparse_buffer.hpp",
    "libyb/utils/svf_file.hpp",
    "libyb/utils/tuple_less.hpp",
    "libyb/utils/utf.hpp",
    "libyb/vector_ref.hpp",
    ]
include_roots = ["."]

[crate.target.windows]
sources = [
    "libyb/async/detail/win32_affinity_task.cpp",
    "libyb/async/detail/win32_async_runner.cpp",
    "libyb/async/detail/win32_console_stream.cpp",
    "libyb/async/detail/win32_file.cpp",
    "libyb/async/detail/win32_group.cpp",
    "libyb/async/detail/win32_handle_task.cpp",
    "libyb/async/detail/win32_prepared_task.cpp",
    "libyb/async/detail/win32_resumable.cpp",
    "libyb/async/detail/win32_serial_port.cpp",
    "libyb/async/detail/win32_sync_runner.cpp",
    "libyb/async/detail/win32_timer.cpp",
    "libyb/async/detail/win32_wait_context.cpp",
    "libyb/net/detail/win32_net.cpp",
    "libyb/usb/detail/win32_usb_context.cpp",
    "libyb/usb/detail/win32_usb_device.cpp",
    "libyb/utils/detail/win32_atomic.cpp",
    "libyb/utils/detail/win32_file_operation.cpp",
    "libyb/utils/detail/win32_mutex.cpp",
    "libyb/utils/detail/win32_overlapped.cpp",
    "libyb/utils/detail/win32_singleton.cpp",
    ]
includes = [
    "libyb/async/detail/win32_affinity_task.hpp",
    "libyb/async/detail/win32_handle_task.hpp",
    "libyb/async/detail/win32_wait_context.hpp",
    "libyb/usb/detail/win32_usb_device_core.hpp",
    "libyb/utils/detail/scoped_win32_handle.hpp",
    "libyb/utils/detail/win32_file_operation.hpp",
    "libyb/utils/detail/win32_mutex.hpp",
    "libyb/utils/detail/win32_overlapped.hpp",
    "libyb/utils/detail/win32_system_error.hpp",
    ]
link_libs = ["ws2_32.lib"]

[crate.target.unix]
sources = [
    "libyb/async/detail/linux_async_runner.cpp",
    "libyb/async/detail/linux_console_stream.cpp",
    "libyb/async/detail/linux_group.cpp",
    "libyb/async/detail/linux_prepared_task.cpp",
    "libyb/async/detail/linux_serial_port.cpp",
    "libyb/async/detail/linux_sync_runner.cpp",
    "libyb/async/detail/linux_timer.cpp",
    "libyb/async/detail/linux_wait_context.cpp",
    "libyb/async/detail/unix_file.cpp",
    "libyb/async/detail/unix_wait_context.cpp",
    "libyb/net/detail/linux_net.cpp",
    "libyb/usb/detail/linux_usb_context.cpp",
    "libyb/usb/detail/linux_usb_device.cpp",
    "libyb/utils/detail/linux_event.cpp",
    "libyb/utils/detail/pthread_mutex.cpp",
    "libyb/utils/detail/unix_refcount.cpp",
    ]
link_libs = ["udev"]
